(function(t,e){"use strict";var n,i=t.document;n=function(){var n,s,r,a,o,l,c,u,f,d,h,y,p={},b={},m=!1,g={ENTER:13,ESC:27,SPACE:32},v=[];return b={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<a href="#" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</a>',cancel:'<a href="#" class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</a>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},y=function(){var t,n=i.createElement("fakeelement"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(t in s)if(n.style[t]!==e)return s[t]},n=function(t){return i.getElementById(t)},p={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:e,addListeners:function(t){var n,o,l,c,u,f=r!==e,y=s!==e,p=h!==e,b="",m=this;n=function(n){return n.preventDefault!==e&&n.preventDefault(),l(n),h!==e&&(b=h.value),"function"==typeof t&&(h!==e?t(!0,b):t(!0)),!1},o=function(n){return n.preventDefault!==e&&n.preventDefault(),l(n),"function"==typeof t&&t(!1),!1},l=function(){m.hide(),m.unbind(i.body,"keyup",c),m.unbind(a,"focus",u),p&&m.unbind(d,"submit",n),f&&m.unbind(r,"click",n),y&&m.unbind(s,"click",o)},c=function(t){var e=t.keyCode;e!==g.SPACE||p||n(t),e===g.ESC&&y&&o(t)},u=function(){p?h.focus():y?s.focus():r.focus()},this.bind(a,"focus",u),f&&this.bind(r,"click",n),y&&this.bind(s,"click",o),this.bind(i.body,"keyup",c),p&&this.bind(d,"submit",n),this.transition===e&&this.setFocus()},bind:function(t,e,n){"function"==typeof t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},handleErrors:function(){if(t.onerror!==e){var n=this;return t.onerror=function(t,e,i){n.error("["+t+" on line "+i+" of "+e+"]",0)},!0}return!1},appendButtons:function(t,e){return this.buttonReverse?e+t:t+e},build:function(t){var e="",n=t.type,i=t.message,s=t.cssClass||"";switch(e+='<div class="alertify-dialog">',"none"===p.buttonFocus&&(e+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===n&&(e+='<form id="alertify-form">'),e+='<article class="alertify-inner">',e+=b.message.replace("{{message}}",i),"prompt"===n&&(e+=b.input),e+=b.buttons.holder,e+="</article>","prompt"===n&&(e+="</form>"),e+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',e+="</div>",n){case"confirm":e=e.replace("{{buttons}}",this.appendButtons(b.buttons.cancel,b.buttons.ok)),e=e.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":e=e.replace("{{buttons}}",this.appendButtons(b.buttons.cancel,b.buttons.submit)),e=e.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":e=e.replace("{{buttons}}",b.buttons.ok),e=e.replace("{{ok}}",this.labels.ok);break;default:}return u.className="alertify alertify-show alertify-"+n+" "+s,c.className="alertify-cover",e},close:function(t,n){var i,s,r=n&&!isNaN(n)?+n:this.delay,a=this;this.bind(t,"click",function(){i(t)}),s=function(t){t.stopPropagation(),a.unbind(this,a.transition,s),f.removeChild(this),f.hasChildNodes()||(f.className+=" alertify-logs-hidden")},i=function(t){t!==e&&t.parentNode===f&&(a.transition!==e?(a.bind(t,a.transition,s),t.className+=" alertify-log-hide"):(f.removeChild(t),f.hasChildNodes()||(f.className+=" alertify-logs-hidden")))},0!==n&&setTimeout(function(){i(t)},r)},dialog:function(t,n,s,r,a){l=i.activeElement;var o=function(){u&&null!==u.scrollTop||o()};if("string"!=typeof t)throw Error("message must be a string");if("string"!=typeof n)throw Error("type must be a string");if(s!==e&&"function"!=typeof s)throw Error("fn must be a function");return"function"==typeof this.init&&(this.init(),o()),v.push({type:n,message:t,callback:s,placeholder:r,cssClass:a}),m||this.setup(),this},extend:function(t){if("string"!=typeof t)throw Error("extend method must have exactly one paramter");return function(e,n){return this.log(e,t,n),this}},hide:function(){var t,n=this;v.splice(0,1),v.length>0?this.setup():(m=!1,t=function(e){e.stopPropagation(),u.className+=" alertify-isHidden",n.unbind(u,n.transition,t)},this.transition!==e?(this.bind(u,this.transition,t),u.className="alertify alertify-hide alertify-hidden"):u.className="alertify alertify-hide alertify-hidden alertify-isHidden",c.className="alertify-cover alertify-cover-hidden",l.focus())},init:function(){i.createElement("nav"),i.createElement("article"),i.createElement("section"),c=i.createElement("div"),c.setAttribute("id","alertify-cover"),c.className="alertify-cover alertify-cover-hidden",i.body.appendChild(c),u=i.createElement("section"),u.setAttribute("id","alertify"),u.className="alertify alertify-hidden",i.body.appendChild(u),f=i.createElement("section"),f.setAttribute("id","alertify-logs"),f.className="alertify-logs alertify-logs-hidden",i.body.appendChild(f),i.body.setAttribute("tabindex","0"),this.transition=y(),delete this.init},log:function(t,e,n){var i=function(){f&&null!==f.scrollTop||i()};return"function"==typeof this.init&&(this.init(),i()),f.className="alertify-logs",this.notify(t,e,n),this},notify:function(t,e,n){var s=i.createElement("article");s.className="alertify-log"+("string"==typeof e&&""!==e?" alertify-log-"+e:""),s.innerHTML=t,f.insertBefore(s,f.firstChild),setTimeout(function(){s.className=s.className+" alertify-log-show"},50),this.close(s,n)},set:function(t){var e;if("object"!=typeof t&&t instanceof Array)throw Error("args must be an object");for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},setFocus:function(){h?(h.focus(),h.select()):o.focus()},setup:function(){var t,i=v[0],l=this;m=!0,t=function(e){e.stopPropagation(),l.setFocus(),l.unbind(u,l.transition,t)},this.transition!==e&&this.bind(u,this.transition,t),u.innerHTML=this.build(i),a=n("alertify-resetFocus"),r=n("alertify-ok")||e,s=n("alertify-cancel")||e,o="cancel"===p.buttonFocus?s:"none"===p.buttonFocus?n("alertify-noneFocus"):r,h=n("alertify-text")||e,d=n("alertify-form")||e,"string"==typeof i.placeholder&&""!==i.placeholder&&(h.value=i.placeholder),this.addListeners(i.callback)},unbind:function(t,e,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}},{alert:function(t,e,n){return p.dialog(t,"alert",e,"",n),this},confirm:function(t,e,n){return p.dialog(t,"confirm",e,"",n),this},extend:p.extend,init:p.init,log:function(t,e,n){return p.log(t,e,n),this},prompt:function(t,e,n,i){return p.dialog(t,"prompt",e,n,i),this},success:function(t,e){return p.log(t,"success",e),this},error:function(t,e){return p.log(t,"error",e),this},set:function(t){p.set(t)},labels:p.labels,debug:p.handleErrors}},"function"==typeof define?define([],function(){return new n}):t.alertify===e&&(t.alertify=new n)})(this),function(){var t=window.hollerConfig,e=t&&t.port?t.port:"1337",n=t&&t.host?t.host:"http://127.0.0.1",i=function(t,e){var n=document.getElementsByTagName("head")[0];if(n){var i=document.createElement("script");i.setAttribute("src",t),i.setAttribute("type","text/javascript");var s=function(){("complete"==this.readyState||"loaded"==this.readyState)&&e()};i.onreadystatechange=s,i.onload=e,n.appendChild(i)}};i(n+":"+e+"/faye/client.js",function(){var t=new Faye.Client(n+":"+e+"/faye",{timeout:120,retry:5});t.subscribe("/holler",function(t){switch(t.type){case"redirect":window.location=t.message;break;case"refresh":window.location.reload(!0);break;case"log":case"error":case"success":alertify.log(t.message,t.type);break;default:console.error("holler: unrecognized message type!")}})})}(this);